# Introduction

The EYCA API is build on GraphQL protocol (http://graphql.org/).

## Base URL

```
http://dev.eyca.org/api
```

The current url is currently used for development purposes and will be changed when the new website will be going live.

## Authentication

You will need an API Key to connect to the API.

_**Warning**: Keep your API key secret!_

## Example Query

To execute a simple query `{ hello }`.

```sh
curl -X POST \
-H "Content-Type: application/json" \
-H "Api-Key: [your-api-key]" \
-d '{"query": "{ hello }"}' \
http://dev.eyca.org/api
```

Replace `[your-api-key]` with a valid key.

You should get result:

```json
{"data":{"hello":"Hello World"}}
```

# Console

You can use GUI, located at http://dev.eyca.org/console to perform your queries and browse the GraphQL autogenerated documentation.

## Configuring Console

<div align="center"><img src="img/console-http-auth.png"></div>

1. Login to console via http basic auth with login `a` and password `b`.

<div align="center"><img src="img/console-api-endpoint.png"></div>

2. Set up API endpoint as `http://dev.eyca.org/api`.

<div align="center"><img src="img/console-http-headers.png"></div>

3. Edit HTTP Headers and insert your `Api-Key`.

## Autogenerated Documentation

.

# Basics

.

```graphql
{
  me {
    id
    name
    email
    member {
      id
      name
      email
      country {
        id name region
      }
      discounts {
        count
      }
    }
    apikey
  }
}
```

# Mutations

.

## Creating Discount

.

## Attaching Location to Discount

.

## Updating Discount

.

## Updating Location

.

## Removing Location

.

## Removing Discount

.
